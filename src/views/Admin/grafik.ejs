<div class="container-fluid">
  <div class="row mb-2">
    <div class="col-sm-6">
      <!-- Konten tambahan jika diperlukan -->
    </div>
  </div>
</div>

<section class="content">
<div class="card">
  <div class="card-header border-0">
    <div class="d-flex justify-content-between">
      <h3 class="card-title">Grafik Jumlah Siswa</h3>
      <a href="#">Tautan Tambahan</a>
    </div>
  </div>
  <div class="card-body">
    <div class="d-flex">
      <p class="d-flex flex-column">
        <span class="text-bold text-lg">Jumlah Siswa</span>
        <span>Informasi Tambahan</span>
      </p>
      <p class="ml-auto d-flex flex-column text-right">
        <span class="text-success">
          <i class="fas fa-arrow-up"></i> 
        </span>
        <span class="text-muted">Keterangan</span>
      </p>
    </div>
    <!-- /.d-flex -->

    <div class="position-relative mb-4">
      <canvas id="sales-chart" style="height: 500px;"></canvas>
    </div>

    <div class="d-flex flex-row justify-content-end">
      <span class="mr-2">
        <i class="fas fa-square text-primary"></i> Jumlah Siswa
      </span>
      <span>
        <i class="fas fa-square text-gray"></i> Tahun Ajaran
      </span>
    </div>
  </div>
</div>
</section>

<!-- Script Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
// Menggunakan JSON.stringify dengan benar
const tahunAjaran = JSON.parse('<%- JSON.stringify(TahunAjaran) %>');
const jumlahSiswa = JSON.parse('<%- JSON.stringify(JumlahSiswa) %>');

const ctx = document.getElementById('sales-chart').getContext('2d');
const siswaChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: tahunAjaran,
    datasets: [{
      label: 'Jumlah Siswa',
      data: jumlahSiswa,
      backgroundColor: 'rgba(75, 192, 192, 0.2)',
      borderColor: 'rgba(75, 192, 192, 1)',
      borderWidth: 1
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    scales: {
      y: {
        beginAtZero: true,
        max: 600  // Mengatur batas maksimum sumbu Y ke 1000
      }
    }
  }
});
</script>

<script src="/plugins/chart.js/Chart.min.js"></script>
